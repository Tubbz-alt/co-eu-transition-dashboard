{% extends "template.njk" %}

{% set fields = getFields() | await %}

{% block pageTitle %}Project Data Input{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

  <h1 class="govuk-heading-xl">Manage project data input fields</h1>

  <p class="govuk-body-l">Changes made to project data input fields on this page will 
  be reflected in Bulk upload and Excel download features in the Transition Taskforce Dashboard. </p>

  <a href="{{ config.paths.admin.projectFieldInput }}" class="govuk-link">Add a new field</a><br>
  <a href="{{ config.paths.admin.projectFieldInput }}" class="govuk-link">Re-order fields</a>
  <hr class="govuk-section-break govuk-section-break--m">

  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">

  <table class="govuk-table project-fields">
    <caption class="govuk-table__caption">Department and Project Information</caption>
    {% include "admin/project-field-list/partials/table-header.njk" %}
    <tbody class="govuk-table__body">
      {% for field in fields %}
      {% if field.group == 'Department and Project Information' %}
        {% include "admin/project-field-list/partials/table-rows.njk" %}
      {% endif %}
      {% endfor %}
    </tbody>
  </table>

  <table class="govuk-table project-fields">
    <caption class="govuk-table__caption">Current Delivery status</caption>
    {% include "admin/project-field-list/partials/table-header.njk" %}
    <tbody class="govuk-table__body">
      {% for field in fields %}
      {% if field.group == 'Current Delivery status' %}
        {% include "admin/project-field-list/partials/table-rows.njk" %}
      {% endif %}
      {% endfor %}
    </tbody>
  </table>

  <table class="govuk-table project-fields">
    <caption class="govuk-table__caption">HMG Delivery</caption>
    {% include "admin/project-field-list/partials/table-header.njk" %}
    <tbody class="govuk-table__body">
      {% for field in fields %}
      {% if field.group == 'HMG Delivery' %}
        {% include "admin/project-field-list/partials/table-rows.njk" %}
      {% endif %}
      {% endfor %}
    </tbody>
  </table>

  <table class="govuk-table project-fields">
    <caption class="govuk-table__caption">Third Party Readiness</caption>
    {% include "admin/project-field-list/partials/table-header.njk" %}
    <tbody class="govuk-table__body">
      {% for field in fields %}
      {% if field.group == 'Third Party Readiness' %}
        {% include "admin/project-field-list/partials/table-rows.njk" %}
      {% endif %}
      {% endfor %}
    </tbody>
  </table>


  <table class="govuk-table project-fields">
    <caption class="govuk-table__caption">Variance from Negotiated Outcomes</caption>
    {% include "admin/project-field-list/partials/table-header.njk" %}
    <tbody class="govuk-table__body">
      {% for field in fields %}
      {% if field.group == 'Variance from Negotiated Outcomes' %}
        {% include "admin/project-field-list/partials/table-rows.njk" %}
      {% endif %}
      {% endfor %}
    </tbody>
  </table>

 </div>
</div>

{% endblock %}
