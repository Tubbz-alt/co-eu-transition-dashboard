{% extends "template.njk" %}

{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/accordion/macro.njk" import govukAccordion %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{{ projects() | await | dump }}

{% set dateHtml %}
{% include "all-data/partials/filters/date.njk" %}
{% endset -%}

{% set impactHtml %}
{% include "all-data/partials/filters/impact.njk" %}
{% endset -%}

{% set deliveryConfidenceHtml %}
{% include "all-data/partials/filters/delivery-confidence.njk" %}
{% endset -%}

{% set citizenReadinessHtml %}
{% include "all-data/partials/filters/citizen-readiness.njk" %}
{% endset -%}

{% set businessReadinessHtml %}
{% include "all-data/partials/filters/business-readiness.njk" %}
{% endset -%}

{% set stateConfidenceHtml %}
{% include "all-data/partials/filters/state-confidence.njk" %}
{% endset -%}

{% set statusHtml %}
{% include "all-data/partials/filters/status.njk" %}
{% endset -%}

{% set headerHtml %}
{% include "all-data/partials/data-table/header.njk" %}
{% endset -%}

{% set contentHtml %}
{% include "all-data/partials/data-table/content.njk" %}
{% endset -%}

{% set sectionHtml %}
{% include "all-data/partials/data-table/section.njk" %}
{% endset -%}

{% block pageTitle %}{{ index }}{% endblock %} 

{% block content %}
<h1 class="govuk-heading-xl">{{ index }}</h1>

<div class="govuk-grid-row" id="show">

  <div class="govuk-grid-column-one-quarter" id="filterPanel">

  <form action="{{ url }}" method="POST">

    {% include "all-data/partials/filters/all-filters.njk" %}
    {% include "all-data/partials/filters/filter-button.njk" %}

  </form>
  </div>

  <div class="govuk-grid-column-full" id="dataTable">

  <div id="showFilter">
  {% include "all-data/partials/filters/show-filter.njk" %}
  </div>

  <div id="hideFilter">
  {% include "all-data/partials/filters/hide-filter.njk" %}
  </div>

  <h2 class="govuk-heading-m">309 Projects displayed</h2>
  <hr>

  {% include "all-data/partials/data-table/table.njk" %}

  </div> 

</div>

{% endblock %}

{#
<form action="{{ url }}" method="post">
  <label for="department">Project Name:</label>
  <input type="text" id="department" name="filters[department][]" value="{{ data.filters.department }}"><br><br>
  <input type="text" id="department" name="filters[department][]" value="{{ data.filters.department }}"><br><br>
  <input type="submit" value="Submit">
</form>
#}
